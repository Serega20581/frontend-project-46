plugins {
    id 'java'
    id 'jacoco'
}

jacoco {
    toolVersion = '0.8.8' 
}

test {
    useJUnitPlatform() 
}

jacocoTestReport {
    dependsOn test 

    reports {
        xml.required = true
        html.required = true
        csv.required = false
    }
}
task jacocoTestReport(type: JacocoReport) {
    dependsOn test

    reports {
        xml.enabled true
        html.enabled true
    }
    
    sourceDirectories.setFrom(files(['src/main/java']))
    classDirectories.setFrom(files(['build/classes/java/main']))
    executionData.setFrom(files(['build/jacoco/test.exec']))
}